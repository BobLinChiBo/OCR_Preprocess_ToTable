{
  "input_dir": "data/input/raw_images",
  "output_dir": "data/output/stage1",
  "debug_dir": "data/debug",
  "verbose": true,
  "save_debug_images": false,
  "mark_removal": {
    "enable": false,
    "dilate_iter": 2,
    "kernel_size": 1,
    "protect_table_lines": false,
    "table_line_thickness": 5,
    "table_detection_params": {
      "threshold": 40,
      "horizontal_kernel_size": 100,
      "vertical_kernel_size": 100
    }
  },
  "tag_removal": {
    "enable": true,
    "method": "auto_whitefill_broadmask",
    "thresh_dark": 160,
    "row_sum_thresh": 100,
    "dark_ratio": 0.15,
    "min_area": 1000,
    "max_area": 80000,
    "min_aspect": 0.2,
    "max_aspect": 2.5,
    "morph_kernel_size": 7,
    "morph_iterations": 3,
    "band_top": 0.08,
    "band_bottom": 0.42,
    "rows_mode": "median",
    "min_dark": 0.20,
    "min_score": 0.40,
    "reject_red": true,
    "nms_iou": 0.30,
    "pad_px": 8,
    "min_width_ratio": 0.01,
    "max_width_ratio": 0.15,
    "min_height_ratio": 0.05,
    "max_height_ratio": 0.25,
    "min_aspect_ratio": 0.15,
    "max_aspect_ratio": 3.0,
    "glyph_kernel_size": 5,
    "mask_close_kernel_size": 15,
    "mask_open_kernel_size": 5,
    "mask_dilate_kernel_size": 5
  },
  "margin_removal": {
    "enable": true,
    "use_gradient_detection": false,
    "gradient_threshold": 50,
    "blur_ksize": 9,
    "close_ksize": 20,
    "close_iter": 3,
    "erode_after_close": 0
  },
  "page_splitting": {
    "enable": true,
    "search_ratio": 0.3,
    "line_len_frac": 0.3,
    "line_thick": 3,
    "peak_thr": 0.3
  },
  "deskewing": {
    "enable": true,
    "method": "radon",
    "use_binarization": true,
    "coarse_range": 5,
    "coarse_step": 0.5,
    "fine_range": 1.0,
    "fine_step": 0.2,
    "min_angle_correction": 0.1
  },
  "table_line_detection": {
    "threshold": 80,
    "horizontal_kernel_size": 60,
    "vertical_kernel_size": 30,
    "alignment_threshold": 3,
    "h_min_length_image_ratio": 0.10,
    "h_min_length_relative_ratio": 0.3,
    "v_min_length_image_ratio": 0.15,
    "v_min_length_relative_ratio": 0.3,
    "min_aspect_ratio": 2,
    "max_h_length_ratio": 1.0,
    "max_v_length_ratio": 1.0,
    "close_line_distance": 45,
    "search_region_top": 30,
    "search_region_bottom": 0,
    "search_region_left": 0,
    "search_region_right": 0,
    "skew_tolerance": 2,
    "skew_angle_step": 0.2
  },
  "table_detection": {
    "table_detection_eps": 10,
    "table_detection_kernel_ratio": 0.05,
    "table_crop_padding": 25,
    "enable_table_cropping": true
  },
  "optimization": {
    "parallel_processing": true,
    "max_workers": 6,
    "batch_size": null,
    "memory_mode": false
  }
}